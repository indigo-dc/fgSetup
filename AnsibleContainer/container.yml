version: "2"
settings:
#   # We choose Jessie as  the Conductor base since that's what the mysqldb is using.
  conductor_base: centos:7
services:
  apiserver:
    from: centos:7
    roles:
#   - AAROC.certificates
      - AAROC.fgapi
    ports:
      - 8888:8888
    command: ['/bin/true']
    privileged: True
    links:
      - db

  db:
    from: centos/mysql-56-centos7
    roles:
  #   - AAROC.certificates
      - AAROC.fg-db
    ports:
      - 3306:3306
    environment:
      - MYSQL_ROOT_PASSWORD=password
      - MYSQL_USER=futuregateway
      - MYSQL_USER_PASSWORD=futuregateway
      - MYSQL_DATABASE=fgapiserver
    entrypoint: ['container-entrypoint']
    volumes:
      - $PWD:/var/lib/mysql
    privileged: True
registries:
  quay:
    url: https://quay.io
    namespace: aaroc
